CREATE TABLE PROFESSOR (
DATA_NASC DATE,
PRIMEIRO_NOME VARCHAR(50 ) NOT NULL,
SEGUNDO_NOME VARCHAR(50 ) NOT NULL,
PRONTUARIO VARCHAR(50 ) NOT NULL,
CONSTRAINT PK_PRONTUARIO_PROF PRIMARY KEY (PRONTUARIO)
);

CREATE TABLE ALUNO (
DATA_NASC DATE,
PRIMEIRO_NOME VARCHAR(50 ) NOT NULL,
SEGUNDO_NOME VARCHAR(50 ) NOT NULL,
PRONTUARIO VARCHAR(50 ) NOT NULL,
SEXO VARCHAR(50 ),
ID_CURSO INTEGER NOT NULL,
CONSTRAINT PK_PRONTUARIO_ALUNO PRIMARY KEY (PRONTUARIO),
CONSTRAINT FK_ID_CURSO FOREIGN KEY (ID_CURSO) REFERENCES CURSO (ID)
); 

CREATE TABLE CURSO (
ID INTEGER NOT NULL,
NOME VARCHAR(50 ) NOT NULL,
NRO_SEMESTRES INTEGER,
DATA_FUNDACAO DATE NOT NULL,
CONSTRAINT PK_ID_CURSO PRIMARY KEY (ID)
);

CREATE TABLE LECIONA (
COD INTEGER NOT NULL,
NOTA FLOAT NOT NULL,
ANO INTEGER NOT NULL,
SEMESTRE INTEGER NOT NULL,
PRONTUARIO_ALUNO VARCHAR(50 ) NOT NULL,
PRONTUARIO_PROFESSOR VARCHAR(50 ) NOT NULL,
CONSTRAINT PK_COD_LECIONA PRIMARY KEY (COD),
CONSTRAINT FK_PRONTUARIO_ALUNO FOREIGN KEY (PRONTUARIO_ALUNO) REFERENCES ALUNO (PRONTUARIO),
CONSTRAINT FK_PRONTURARIO_PROFESSOR FOREIGN KEY (PRONTUARIO_PROFESSOR) REFERENCES PROFESSOR (PRONTUARIO)
);

CREATE TABLE FILME (
    COD_FILME INTEGER,
    NOME VARCHAR(50) NOT NULL,
    GENERO VARCHAR(50),
    DATA_LANCAMENTO DATE,
    CONSTRAINT PK_FILME PRIMARY KEY (COD_FILME)
);

CREATE TABLE ATOR (
    ID_ATOR INTEGER,
    NOME VARCHAR(50) NOT NULL,
    DATA_NASCIMENTO DATE,
    CONSTRAINT PK_ATOR PRIMARY KEY (ID_ATOR)
);

CREATE TABLE EXEMPLAR (
    COD_FILME INTEGER NOT NULL,
    NRO_EXEMPLAR INTEGER NOT NULL,
    STATUS_EXEMPLAR VARCHAR(50) DEFAULT 'Dispon√≠vel' NOT NULL,
    CONSTRAINT PK_EXEMPLAR PRIMARY KEY (COD_FILME, NRO_EXEMPLAR),
    CONSTRAINT FK_COD_FILME FOREIGN KEY (COD_FILME) REFERENCES FILME (COD_FILME)
);

CREATE TABLE CLIENTE (
    COD_CLIENTE INTEGER,
    NOME VARCHAR(50) NOT NULL,
    ENDERECO_RUA VARCHAR(50),
    ENDERECO_NUMERO VARCHAR(50),
    ENDERECO_CIDADE VARCHAR(50),
    ENDERECO_CEP CHAR(50),
    CONSTRAINT PK_CLIENTE PRIMARY KEY (COD_CLIENTE)
);

CREATE TABLE FILME_ATOR (
    COD_FILME INTEGER NOT NULL,
    ID_ATOR INTEGER NOT NULL,
    CONSTRAINT PK_FILME_ATOR PRIMARY KEY (COD_FILME, ID_ATOR),
    CONSTRAINT FK_COD_FILME_ATOR FOREIGN KEY (COD_FILME)  REFERENCES FILME (COD_FILME),
    CONSTRAINT FK_ID_ATOR_FILME FOREIGN KEY (ID_ATOR) REFERENCES ATOR (ID_ATOR)
);

CREATE TABLE ALUGUEL (
    COD_CLIENTE INTEGER NOT NULL,
    COD_FILME INTEGER NOT NULL,
    NRO_EXEMPLAR INTEGER NOT NULL,
    DATA_ALUGUEL DATE,
    DATA_DEVOLUCAO DATE,
    CONSTRAINT PK_ALUGUEL PRIMARY KEY (COD_CLIENTE, COD_FILME, NRO_EXEMPLAR, DATA_ALUGUEL),
    CONSTRAINT FK_COD_CLIENTE FOREIGN KEY (COD_CLIENTE) REFERENCES CLIENTE (COD_CLIENTE),
    CONSTRAINT FK_EXEMPLAR_ALUGADO FOREIGN KEY (COD_FILME, NRO_EXEMPLAR) REFERENCES EXEMPLAR (COD_FILME, NRO_EXEMPLAR)
);

CREATE TABLE CLIENTE_TELEFONE (
    COD_CLIENTE INTEGER NOT NULL,
    TELEFONE VARCHAR(20) NOT NULL,
    CONSTRAINT PK_CLIENTE_TELEFONE PRIMARY KEY (COD_CLIENTE, TELEFONE),
    CONSTRAINT FK_COD_CLIENTE_TELEFONE FOREIGN KEY (COD_CLIENTE) REFERENCES CLIENTE (COD_CLIENTE),
);

CREATE TABLE MEDICO (
    CRM VARCHAR(50) NOT NULL,
    NOME VARCHAR(50) NOT NULL,
    ENDERECO VARCHAR(50),
    DATA_NASCIMENTO DATE,
    CONSTRAINT PK_MEDICO PRIMARY KEY (CRM)
);

CREATE TABLE PACIENTE (
    CPF VARCHAR(50) NOT NULL,
    NOME VARCHAR(50) NOT NULL,
    ENDERECO VARCHAR(50),
    CONSTRAINT PK_PACIENTE PRIMARY KEY (CPF)
);

CREATE TABLE MEDICO_ESPECIALIDADE (
    CRM_MEDICO VARCHAR(50) NOT NULL,
    ESPECIALIDADE VARCHAR(50) NOT NULL,
    CONSTRAINT PK_MEDICO_ESPECIALIDADE PRIMARY KEY (CRM_MEDICO, ESPECIALIDADE),
    CONSTRAINT FK_CRM_MEDICO_ESP FOREIGN KEY (CRM_MEDICO) REFERENCES MEDICO (CRM)
);

CREATE TABLE MEDICO_TELEFONE (
    CRM_MEDICO VARCHAR(50) NOT NULL,
    TELEFONE VARCHAR(50) NOT NULL,
    CONSTRAINT PK_MEDICO_TELEFONE PRIMARY KEY (CRM_MEDICO, TELEFONE),
    CONSTRAINT FK_CRM_MEDICO_TEL FOREIGN KEY (CRM_MEDICO) REFERENCES MEDICO (CRM)
);

CREATE TABLE PACIENTE_TELEFONE (
    CPF_PACIENTE VARCHAR(50) NOT NULL,
    TELEFONE VARCHAR(50) NOT NULL,
    CONSTRAINT PK_PACIENTE_TELEFONE PRIMARY KEY (CPF_PACIENTE, TELEFONE),
    CONSTRAINT FK_CPF_PACIENTE_TEL FOREIGN KEY (CPF_PACIENTE) REFERENCES PACIENTE (CPF)
);

CREATE TABLE CONSULTA (
    CRM_MEDICO VARCHAR(50) NOT NULL,
    CPF_PACIENTE VARCHAR(50) NOT NULL,
    DATA_CONSULTA DATE NOT NULL,
    CONSTRAINT PK_CONSULTA PRIMARY KEY (CRM_MEDICO, CPF_PACIENTE, DATA_CONSULTA),
    CONSTRAINT FK_CRM_MEDICO FOREIGN KEY (CRM_MEDICO) REFERENCES MEDICO (CRM),
    CONSTRAINT FK_CPF_PACIENTE FOREIGN KEY (CPF_PACIENTE) REFERENCES PACIENTE (CPF)
);